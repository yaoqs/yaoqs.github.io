{"type":"getPostByPath","data":{"title":"游戏设计制作时是否会用到类似 ACM 中的算法设计？","date":"2024-08-08T08:40:58.000Z","description":"","categories":[{"name":"acm","_id":"clzpq9hyk009ssgerf5p5bh01"}],"tags":[{"name":"acm","_id":"clzpq9hzw00d4sger8erg0ia7"}],"content":"<p>转载自 <a href=\"https://www.zhihu.com/question/27157193/answer/35487268\">游戏设计制作时是否会用到类似 ACM 中的算法设计？ - 知乎用户3ZGB97的回答</a></p>\n<p>最近在做游戏，想要自动生成随机的地图，找到了一篇文章：<a href=\"https://www-cs-students.stanford.edu/~amitp/game-programming/polygon-map-generation/\">Polygonal Map Generation for Games</a> 这里有文章的 Flash Demo <a href=\"https://www-cs-students.stanford.edu/~amitp/game-programming/polygon-map-generation/demo.html\">Polygon Map Generation demo</a>（下面的图片都是转自这篇文章，不知道合适吗。）</p>\n<p><img src=\"fbc4b0decc5a714f115515a82050b9be_720w.webp\" alt=\"\"></p>\n<p>如何生成这样的地图呢？可能是 <a href=\"https://zh.wikipedia.org/zh/Perlin%25E5%2599%25AA%25E5%25A3%25B0\">Perlin 噪音</a>，确实能有类似的效果，但是你 Perlin 出来的只是一堆点，看似连续，实际上离散的点，你没办法生成出区块。河流也不可能简单地生成。如何生成地图中各种区块呢？我们需要生成无限个比较随机的多边形，并且铺满整个平面。这样的多边形就是<a href=\"https://en.wikipedia.org/wiki/Voronoi_diagram\">Voronoi diagram</a></p>\n<p><img src=\"ccdbdfcd21f242b1e5c923935dac05a7_720w.webp\" alt=\"\"></p>\n<p>生成这货的算法叫做 <a href=\"https://en.wikipedia.org/wiki/Fortune%2527s_algorithm\">Fortune’s algorithm</a> 。算法特别复杂 <a href=\"https://www.cnblogs.com/Seiyagoo/p/3339886.html\">Voronoi Diagram——维诺图</a>。这里有算法的动态演示：<a href=\"http://www.raymondhill.net/voronoi/rhill-voronoi.html\">http://www.raymondhill.net/voronoi/rhill-voronoi.html</a> （也有 JS 源代码<a href=\"https://github.com/gorhill/Javascript-Voronoi/blob/master/rhill-voronoi-core.js\">Javascript-Voronoi/rhill-voronoi-core.js at master · gorhill/Javascript-Voronoi · GitHub</a> 1718 行）</p>\n<p>这个算法我花了很长时间才搞懂，也需要不少前置知识。实际上我也搞不懂为了避免暴露所以不细说了……但这个回答主要是想要提到这个算法。因为这个算法需要几何知识，也需要图论知识，为了实现还需要一颗AVL树或者红黑树，并且有几个麻烦的边界条件，如果有选手比赛的时候码出来就太厉害了……</p>\n<p>先生成随机的点，然后将随机的点稍微搞得均匀一点（<a href=\"https://en.wikipedia.org/wiki/Lloyd%2527s_algorithm\">Lloyd’s algorithm</a>），就以点生成维诺图。</p>\n<p>生成了以后，用 Perlin 函数（或者别的噪音函数）给每一个区块着色，大致的地形就出来了（还需要用一个简单的洪水填充区分海与湖。）</p>\n<p><img src=\"a5da5ec7bc91f48f1f7c49bdf2b648b7_720w.webp\" alt=\"\"></p>\n<p>然后，河怎么做呢？看这些区块的交点处，随机挑选一些交点，然后按照 Perlin 函数生成的高度图用 A* 算法走出一个搜索路径，就是河了。A* 在游戏开发里面实在太常用了，如萌萌哒的岛娘所说，寻路和搜素多多少少都要用到。</p>\n<p><a href=\"https://www.redblobgames.com/pathfinding/a-star/introduction.html\">Introduction to A*</a></p>\n<p><img src=\"d4bf7cab3f3528b0dd2661b9a6dff983_720w.webp\" alt=\"\"></p>\n<p>文章中还讲了道路和降雨之类的。相比之下，房间的生成就简单多了。</p>\n<p><a href=\"https://gamedev.stackexchange.com/questions/47917/procedural-house-with-rooms-generator\">algorithm - Procedural… house with rooms generator</a></p>\n<p>最后推荐一下这个网站</p>\n<p><a href=\"https://www.redblobgames.com/\">Red Blob Games </a></p>\n<p>里面有很多游戏里面的算法，并且呢有很多动态的实例。另外此网站的这个页面</p>\n<p><a href=\"https://www-cs-students.stanford.edu/~amitp/gameprog.html\">Amit’s Game Programming Information</a> 干货非常多，应该是这个问题的最佳答案。</p>\n<p>比如说迷宫的十种生成算法：<a href=\"https://weblog.jamisbuck.org/2011/2/7/maze-generation-algorithm-recap%23article_body\">the { buckblogs :here }: Maze Generation: Algorithm Recap</a></p>\n","_path":"20240808/you-xi-she-ji-zhi-zuo-shi-shi-fou-hui-yong-dao-lei-si-acm-zhong-de-suan-fa-she-ji/","_link":"https://yaoqs.github.io/20240808/you-xi-she-ji-zhi-zuo-shi-shi-fou-hui-yong-dao-lei-si-acm-zhong-de-suan-fa-she-ji/","_id":"clzpq9hyc009gsger7a914kd3"}}